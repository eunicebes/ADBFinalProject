<!--
Author: W3layouts
Author URL: http://w3layouts.com
License: Creative Commons Attribution 3.0 Unported
License URL: http://creativecommons.org/licenses/by/3.0/
-->
<!DOCTYPE html>
<html>
<head>
<title>D-Day</title>
<!-- for-mobile-apps -->
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="keywords" content="Seafaring Responsive web template, Bootstrap Web Templates, Flat Web Templates, Android Compatible web template, 
Smartphone Compatible web template, free webdesigns for Nokia, Samsung, LG, SonyEricsson, Motorola web design" />
<script type="application/x-javascript"> addEventListener("load", function() { setTimeout(hideURLbar, 0); }, false);
		function hideURLbar(){ window.scrollTo(0,1); } </script>
<!-- //for-mobile-apps -->

<script src="../static/js/bootstrap-tagsinput.js"></script>
<!-- //js -->

<script text="javascript">
$(function(){
    if ("{{me['birthday']}}" == "None") {
    	$("[name=birthday]").val('');
    }
    if ("{{me['height']}}" == "None") {
    	$("[name=height]").val('');
    }
    if ("{{me['weight']}}" == "None") {
    	$("[name=weight]").val('');
    }
    if ("{{me['residence']}}" == "None") {
    	$("[name=residence]").val('');
    }
    if ("{{me['interest']}}" == "[u&#39;None&#39;]"){
    	$("[name=interest]").val('');
    	//alert("{{me['interest']}}");
    }
});

function update_profile(){
	var currentURL = window.location;
	var name = "{{me['name']}}";
	var birthday = $("[name=birthday]").val();
	var height = $("[name=height]").val();
	var weight = $("[name=weight]").val();
	var residence = $("[name=residence]").val();
	var interest = $("[name=interest]").val();

	//alert(type0f(interest));
	$.ajax({
		type:'POST',
		url: 'http://140.114.77.15:'+currentURL.port+'/member/api/v1/me/update-info',
      	data:JSON.stringify({
      		name: name,
        	birthday: birthday,
	 		height: height,
	 		weight: weight,
	 		residence: residence,
	 		interest: interest
      	}),
      	contentType:"application/json",
      	success:function(response){
        	window.location.reload();
      	},
      	error:function(error){
        	console.log(error);
      	}
	});
}
</script>
</head>
	
<body>
<!-- header -->
	{% include 'header.html' %}
	<div class="header-nav">
		<div class="container">
			<nav class="navbar navbar-default">
				<!-- Brand and toggle get grouped for better mobile display -->
				<div class="navbar-header">
				  <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
					<span class="sr-only">Toggle navigation</span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
				  </button>
				</div>

				<!-- Collect the nav links, forms, and other content for toggling -->
				<div class="collapse navbar-collapse nav-wil" id="bs-example-navbar-collapse-1">
					<nav class="cl-effect-1">
						<ul class="nav navbar-nav">
							<li><a href="friends">Spectrum</a></li>
							<li><a href="index">Recommend</a></li>
							<li><a href="create_diary">Create Diary</a></li>
							<li><a href="search">Nearby</a></li>
						</ul>
					</nav>
				</div><!-- /.navbar-collapse -->	
			</nav>
		</div>
	</div>
<!-- //header -->
	<div class="banner-bottom">
		<div class="container">
			<h3>MY PROFILE</h3>
			<div class="col-md-6 col-md-offset-3 portrait">
				<img src="{{me['portrait']}}" class="profile_image">
			</div>
			<div class="col-md-6 col-md-offset-3 diary_input">
				<div>
					<img src="../static/images/face.svg"/>
					{{me['name']}}
				</div>
				<div>
					<img src="../static/images/gender.svg"/>
					{{me['gender']}}
				</div>
				<div>
					<img src="../static/images/birthday.svg"/>
					<input type="text" class="form-design" name="birthday" value="{{me['birthday']}}" placeholder="Birthday"/>
				</div>
				<div>
					<img src="../static/images/footprint.svg"/>
					<input type="text" class="form-design" name="height" value="{{me['height']}}" placeholder="Height" />
				</div>
				<div>
					<img src="../static/images/weight.svg"/>
					<input type="text" class="form-design" name="weight" value="{{me['weight']}}" placeholder="Weight" />
				</div>
				<div>
					<img src="../static/images/location.svg"/>
					<input type="text" class="form-design" name="residence" value="{{me['residence']}}" placeholder="Where are you from?">
				</div>
				<div>
					<img src="../static/images/email.svg"/>
					{{me['email']}}
				</div>
				<div>
					<img src="../static/images/heart.svg"/>
					<input type="text" class="form-design" name="interest" value="{{me['interest']}}" data-role="tagsinput" placeholder="Add interest tags"/>
				</div>
				<div class="diary_button"><a href="javascript: update_profile();">Submit</a></div>
			</div>
		</div>
	</div>

<!--footer-->
	{% include 'footer.html' %}
<!--//footer-->	

</body>
</html>